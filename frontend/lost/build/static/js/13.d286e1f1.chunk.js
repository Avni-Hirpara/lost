(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1013:function(e,a,t){"use strict";t.r(a);var l=t(11),n=t(14),r=t(20),i=t(19),s=t(21),c=t(74),b=t(1),d=t.n(b),o=t(23),h=t(26),u=t(993),p=t(994),L=t(996),m=t(570),v=t(997),g=t(486),f=(t(471),0);var E=function(e){function LabelTreeTable(e){var a;return Object(l.a)(this,LabelTreeTable),(a=Object(r.a)(this,Object(i.a)(LabelTreeTable).call(this,e))).getProps=a.getProps.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(LabelTreeTable,e),Object(n.a)(LabelTreeTable,[{key:"getProps",value:function getProps(e,a,t){var l=this;return{onClick:function onClick(e,t){l.props.callback(a.index)}}}},{key:"render",value:function render(){var e=this,a=this.props.labelTrees;return d.a.createElement(d.a.Fragment,null,d.a.createElement(g.a,{data:a,columns:[{Header:"Tree Name",accessor:"name"},{Header:"Description",accessor:"description"},{Header:"Amount of Labels",id:"idx",accessor:function accessor(e){return f=0,function getAmountOfLabels(e){f+=1;if(void 0===e.children)return 1;e.children.forEach(function(e){getAmountOfLabels(e)});return f}(e)-1}},{Header:"Date",accessor:"timestamp"}],defaultPageSize:10,className:"-striped -highlight",getTrProps:function getTrProps(a,t,l){return e.getProps(a,t,l)}}))}}]),LabelTreeTable}(b.Component),C=t(683),O=t.n(C),j={nodes:{color:{background:"#20a8d8"},font:{color:"white"}},edges:{color:{color:"#222222"}}};var T=t(999),x=t(1001),D=t(1e3),N=t(404),y=t(703),k=t(506),S=(t(507),h.a.updateLabel),M=h.a.deleteLabel,I=h.a.createLabel,A=h.a.cleanLabelMessages,P=function(e){function EditLabel(e){var a;return Object(l.a)(this,EditLabel),(a=Object(r.a)(this,Object(i.a)(EditLabel).call(this,e))).state={editLabelid:"",editLabelname:"",editLabeldescription:"",editLabelabbreviation:"",editLabelextID:"",createLabelname:"",createLabeldescription:"",createLabelabbreviation:"",createLabelextID:""},a.handleEditLabelName=a.handleEditLabelName.bind(Object(c.a)(Object(c.a)(a))),a.handleEditLabelDescription=a.handleEditLabelDescription.bind(Object(c.a)(Object(c.a)(a))),a.handleEditLabelAbbreviation=a.handleEditLabelAbbreviation.bind(Object(c.a)(Object(c.a)(a))),a.handleEditLabelExtID=a.handleEditLabelExtID.bind(Object(c.a)(Object(c.a)(a))),a.handleCreateLabelName=a.handleCreateLabelName.bind(Object(c.a)(Object(c.a)(a))),a.handleCreateLabelDescription=a.handleCreateLabelDescription.bind(Object(c.a)(Object(c.a)(a))),a.handleCreateLabelAbbreviation=a.handleCreateLabelAbbreviation.bind(Object(c.a)(Object(c.a)(a))),a.handleCreateLabelExtID=a.handleCreateLabelExtID.bind(Object(c.a)(Object(c.a)(a))),a.handleEditSave=a.handleEditSave.bind(Object(c.a)(Object(c.a)(a))),a.handleEditDelete=a.handleEditDelete.bind(Object(c.a)(Object(c.a)(a))),a.handleCreateSave=a.handleCreateSave.bind(Object(c.a)(Object(c.a)(a))),a.handleCreateClear=a.handleCreateClear.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(EditLabel,e),Object(n.a)(EditLabel,[{key:"componentDidUpdate",value:function componentDidUpdate(){"success"===this.props.updateLabelMessage?k.NotificationManager.success("Label ".concat(this.state.editLabelname," updated.")):""!==this.props.updateLabelMessage&&k.NotificationManager.error(this.props.updateLabelMessage),"success"===this.props.createLabelMessage?k.NotificationManager.success("Label created."):""!==this.props.createLabelMessage&&k.NotificationManager.error(this.props.createLabelMessage),"success"===this.props.deleteLabelMessage?k.NotificationManager.success("Label ".concat(this.state.editLabelname," deleted.")):""!==this.props.deleteLabelMessage&&k.NotificationManager.error(this.props.deleteLabelMessage),this.props.cleanLabelMessages()}},{key:"handleEditLabelName",value:function handleEditLabelName(e){this.setState({editLabelname:e.target.value})}},{key:"handleEditLabelDescription",value:function handleEditLabelDescription(e){this.setState({editLabeldescription:e.target.value})}},{key:"handleEditLabelAbbreviation",value:function handleEditLabelAbbreviation(e){this.setState({editLabelabbreviation:e.target.value})}},{key:"handleEditLabelExtID",value:function handleEditLabelExtID(e){this.setState({editLabelextID:e.target.value})}},{key:"handleCreateLabelName",value:function handleCreateLabelName(e){this.setState({createLabelname:e.target.value})}},{key:"handleCreateLabelDescription",value:function handleCreateLabelDescription(e){this.setState({createLabeldescription:e.target.value})}},{key:"handleCreateLabelAbbreviation",value:function handleCreateLabelAbbreviation(e){this.setState({createLabelabbreviation:e.target.value})}},{key:"handleCreateLabelExtID",value:function handleCreateLabelExtID(e){this.setState({createLabelextID:e.target.value})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(e){if(e.label){var a=e.label,t=a.idx,l=a.name,n=a.description,r=a.abbreviation,i=a.external_id;this.setState({editLabelid:t,editLabelname:l||"",editLabeldescription:n||"",editLabelabbreviation:r||"",editLabelextID:i||""})}}},{key:"handleEditSave",value:function handleEditSave(){var e={id:this.state.editLabelid,name:this.state.editLabelname,description:this.state.editLabeldescription,abbreviation:this.state.editLabelabbreviation,external_id:this.state.editLabelextID};this.props.updateLabel(e)}},{key:"handleEditDelete",value:function handleEditDelete(){this.props.deleteLabel({id:this.state.editLabelid}),this.props.clearSelectedLabel()}},{key:"handleCreateSave",value:function handleCreateSave(){var e={is_root:!1,name:this.state.createLabelname,description:this.state.createLabeldescription,abbreviation:this.state.createLabelabbreviation,external_id:this.state.createLabelextID,parent_leaf_id:this.state.editLabelid};this.props.createLabel(e),this.handleCreateClear()}},{key:"handleCreateClear",value:function handleCreateClear(){this.setState({createLabelname:"",createLabeldescription:"",createLabelabbreviation:"",createLabelextID:""})}},{key:"render",value:function render(){return this.props.label?d.a.createElement(d.a.Fragment,null,d.a.createElement(u.a,{style:{padding:"0 0 10px 0"}},d.a.createElement(p.a,{xs:"12",sm:"12",lg:"12"},d.a.createElement(L.a,null,d.a.createElement(m.a,null,"Edit and Add Label"),d.a.createElement(v.a,null,d.a.createElement(u.a,null,"Edit"),d.a.createElement(u.a,{style:{padding:"0px 0px 10px 0px"}},d.a.createElement(T.a,null,d.a.createElement(x.a,{type:"text",placeholder:"name",value:this.state.editLabelname,onChange:this.handleEditLabelName}),d.a.createElement(x.a,{type:"text",placeholder:"description",value:this.state.editLabeldescription,onChange:this.handleEditLabelDescription}),d.a.createElement(x.a,{type:"text",placeholder:"abbreviation",value:this.state.editLabelabbreviation,onChange:this.handleEditLabelAbbreviation}),d.a.createElement(x.a,{type:"text",placeholder:"external ID",value:this.state.editLabelextID,onChange:this.handleEditLabelExtID}),d.a.createElement(D.a,{addonType:"append"},d.a.createElement(N.a,{className:"btn-info",onClick:this.handleEditSave},"Save"),d.a.createElement(N.a,{className:"btn-danger",onClick:this.handleEditDelete},"Delete")))),d.a.createElement(u.a,null,"Add Child"),d.a.createElement(u.a,null,d.a.createElement(T.a,null,d.a.createElement(x.a,{type:"text",placeholder:"name",value:this.state.createLabelname,onChange:this.handleCreateLabelName}),d.a.createElement(x.a,{type:"text",placeholder:"description",value:this.state.createLabeldescription,onChange:this.handleCreateLabelDescription}),d.a.createElement(x.a,{type:"text",placeholder:"abbreviation",value:this.state.createLabelabbreviation,onChange:this.handleCreateLabelAbbreviation}),d.a.createElement(x.a,{type:"text",placeholder:"external ID",value:this.state.createLabelextID,onChange:this.handleCreateLabelExtID}),d.a.createElement(D.a,{addonType:"append"},d.a.createElement(N.a,{className:"btn-info",onClick:this.handleCreateSave},"Save"),d.a.createElement(N.a,{className:"btn-danger",onClick:this.handleCreateClear},"\xa0Clear\xa0")))))))),d.a.createElement(k.NotificationContainer,null)):d.a.createElement(y.a,{className:"alert-info"},"Click on a label to edit it or create a new label to add at this point.")}}]),EditLabel}(b.Component);var _=Object(o.b)(function mapStateToProps(e){return{updateLabelMessage:e.label.updateLabelMessage,createLabelMessage:e.label.createLabelMessage,deleteLabelMessage:e.label.deleteLabelMessage}},{updateLabel:S,createLabel:I,deleteLabel:M,cleanLabelMessages:A})(P),w={autoResize:!0,height:"600px",layout:{hierarchical:{enabled:!0,sortMethod:"directed"}},edges:{color:"#000000"}};var R=function(e){function LabelTree(e){var a;return Object(l.a)(this,LabelTree),(a=Object(r.a)(this,Object(i.a)(LabelTree).call(this,e))).state={selectedLabel:null},a.selectLabel=a.selectLabel.bind(Object(c.a)(Object(c.a)(a))),a.clearSelectedLabel=a.clearSelectedLabel.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(LabelTree,e),Object(n.a)(LabelTree,[{key:"selectLabel",value:function selectLabel(e){e&&this.setState({selectedLabel:function findNode(e,a){var t,l,n;if(e===a.idx)return a;for(t=0;t<a.children.length;t+=1)if(l=a.children[t],!1!==(n=findNode(e,l)))return n;return!1}(e,this.props.labelTree)})}},{key:"clearSelectedLabel",value:function clearSelectedLabel(){this.setState({selectedLabel:null})}},{key:"render",value:function render(){var e=this,a={select:function select(a){return e.selectLabel(a.nodes[0])}},t=this.props.labelTree;if(t){var l=function mapTreeToGraph(e,a){if(!e)throw new Error("Parameter 'tree' is undefined.");var t=[Object.assign({},j.nodes,{id:e.idx,label:e.name})],l=e.children.map(function(a){return Object.assign({},j.edges,{from:e.idx,to:a.idx})});if(function fillGraph(e,a,t){e.children&&e.children.forEach(function(l){a.push(Object.assign({},j.nodes,{id:l.idx,label:l.name,isLeaf:0===l.children.length})),t.push(Object.assign({},j.edges,{from:e.idx,to:l.idx,isLeaf:0===l.children.length})),fillGraph(l,a,t)})}(e,t,l),a){var n=a.customizeNodes,r=a.customizeEdges;n&&(t=n(t)),r&&(l=r(l))}return{nodes:t,edges:l}}(t);return d.a.createElement(d.a.Fragment,null,d.a.createElement(_,{label:this.state.selectedLabel,clearSelectedLabel:this.clearSelectedLabel}),d.a.createElement(O.a,{graph:l,options:w,events:a}))}return d.a.createElement("div",null,"No Tree selected.")}}]),LabelTree}(b.Component),H=h.a.cleanLabelMessages,z=h.a.createLabelTree,U=function(e){function CreateLabelTree(e){var a;return Object(l.a)(this,CreateLabelTree),(a=Object(r.a)(this,Object(i.a)(CreateLabelTree).call(this,e))).state={createLabelname:"",createLabeldescription:"",createLabelabbreviation:"",createLabelextID:""},a.handleCreateLabelName=a.handleCreateLabelName.bind(Object(c.a)(Object(c.a)(a))),a.handleCreateLabelDescription=a.handleCreateLabelDescription.bind(Object(c.a)(Object(c.a)(a))),a.handleCreateSave=a.handleCreateSave.bind(Object(c.a)(Object(c.a)(a))),a.handleCreateClear=a.handleCreateClear.bind(Object(c.a)(Object(c.a)(a))),a}return Object(s.a)(CreateLabelTree,e),Object(n.a)(CreateLabelTree,[{key:"handleCreateClear",value:function handleCreateClear(){this.setState({createLabelname:"",createLabeldescription:"",createLabelabbreviation:"",createLabelextID:""})}},{key:"handleCreateLabelName",value:function handleCreateLabelName(e){this.setState({createLabelname:e.target.value})}},{key:"handleCreateLabelDescription",value:function handleCreateLabelDescription(e){this.setState({createLabeldescription:e.target.value})}},{key:"handleCreateSave",value:function handleCreateSave(e){var a={is_root:!0,name:this.state.createLabelname,description:this.state.createLabeldescription,abbreviation:this.state.createLabelabbreviation,external_id:this.state.createLabelextID,parent_leaf_id:this.state.editLabelid};this.props.createLabelTree(a),this.handleCreateClear()}},{key:"componentDidUpdate",value:function componentDidUpdate(){"success"===this.props.createMessage?k.NotificationManager.success("LabelTree created."):""!==this.props.createMessage&&k.NotificationManager.error(this.props.createMessage),this.props.cleanLabelMessages()}},{key:"render",value:function render(){return d.a.createElement(u.a,{style:{padding:"0 0 10px 0"}},d.a.createElement(p.a,{xs:"12",sm:"12",lg:"12"},d.a.createElement(u.a,null,d.a.createElement(T.a,null,d.a.createElement(x.a,{type:"text",placeholder:"name",value:this.state.createLabelname,onChange:this.handleCreateLabelName}),d.a.createElement(x.a,{type:"text",placeholder:"description",value:this.state.createLabeldescription,onChange:this.handleCreateLabelDescription}),d.a.createElement(D.a,{addonType:"append"},d.a.createElement(N.a,{className:"btn-info",onClick:this.handleCreateSave},"Create"),d.a.createElement(N.a,{className:"btn-danger",onClick:this.handleCreateClear},"\xa0Clear\xa0"))))),d.a.createElement(k.NotificationContainer,null))}}]),CreateLabelTree}(b.Component);var F=Object(o.b)(function CreateLabelTree_mapStateToProps(e){return{createMessage:e.label.createLabelTreeMessage}},{cleanLabelMessages:H,createLabelTree:z})(U),G=h.a.getLabelTrees,q=function(e){function Label(e){var a;return Object(l.a)(this,Label),(a=Object(r.a)(this,Object(i.a)(Label).call(this,e))).selectTree=a.selectTree.bind(Object(c.a)(Object(c.a)(a))),a.state={selectedTreeId:null},a}return Object(s.a)(Label,e),Object(n.a)(Label,[{key:"selectTree",value:function selectTree(e){this.setState({selectedTreeId:e})}},{key:"componentDidMount",value:function componentDidMount(){this.props.getLabelTrees()}},{key:"render",value:function render(){return d.a.createElement("div",null,d.a.createElement(u.a,null,d.a.createElement(p.a,{xs:"12",sm:"12",lg:"12"},d.a.createElement(L.a,{className:"text-black"},d.a.createElement(m.a,null,"Label Trees"),d.a.createElement(v.a,{className:"pb-0"},d.a.createElement(F,null),d.a.createElement(E,{labelTrees:this.props.trees,callback:this.selectTree}))),d.a.createElement(L.a,null,d.a.createElement(v.a,null,d.a.createElement(R,{labelTree:this.props.trees[this.state.selectedTreeId]}))))))}}]),Label}(b.Component);a.default=Object(o.b)(function Labels_mapStateToProps(e){return{trees:e.label.trees}},{getLabelTrees:G})(q)},570:function(e,a,t){"use strict";var l=t(12),n=t(15),r=t(1),i=t.n(r),s=t(0),c=t.n(s),b=t(4),d=t.n(b),o=t(8),h={tag:o.q,className:c.a.string,cssModule:c.a.object},u=function CardHeader(e){var a=e.className,t=e.cssModule,r=e.tag,s=Object(n.a)(e,["className","cssModule","tag"]),c=Object(o.m)(d()(a,"card-header"),t);return i.a.createElement(r,Object(l.a)({},s,{className:c}))};u.propTypes=h,u.defaultProps={tag:"div"},a.a=u},703:function(e,a,t){"use strict";var l=t(12),n=t(15),r=t(65),i=t(1),s=t.n(i),c=t(0),b=t.n(c),d=t(4),o=t.n(d),h=t(8),u=t(505),p={children:b.a.node,className:b.a.string,closeClassName:b.a.string,closeAriaLabel:b.a.string,cssModule:b.a.object,color:b.a.string,fade:b.a.bool,isOpen:b.a.bool,toggle:b.a.func,tag:h.q,transition:b.a.shape(u.a.propTypes),innerRef:b.a.oneOfType([b.a.object,b.a.string,b.a.func])},L={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(r.a)({},u.a.defaultProps,{unmountOnExit:!0})};function Alert(e){var a=e.className,t=e.closeClassName,i=e.closeAriaLabel,c=e.cssModule,b=e.tag,d=e.color,p=e.isOpen,L=e.toggle,m=e.children,v=e.transition,g=e.fade,f=e.innerRef,E=Object(n.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),C=Object(h.m)(o()(a,"alert","alert-"+d,{"alert-dismissible":L}),c),O=Object(h.m)(o()("close",t),c),j=Object(r.a)({},u.a.defaultProps,v,{baseClass:g?v.baseClass:"",timeout:g?v.timeout:0});return s.a.createElement(u.a,Object(l.a)({},E,j,{tag:b,className:C,in:p,role:"alert",innerRef:f}),L?s.a.createElement("button",{type:"button",className:O,"aria-label":i,onClick:L},s.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,m)}Alert.propTypes=p,Alert.defaultProps=L,a.a=Alert}}]);
//# sourceMappingURL=13.d286e1f1.chunk.js.map