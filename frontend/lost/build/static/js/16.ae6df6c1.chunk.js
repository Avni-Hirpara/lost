(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1018:function(e,t,a){"use strict";a.r(t);var n=a(11),l=a(14),r=a(20),s=a(19),o=a(21),c=a(74),i=a(1),m=a.n(i),u=a(23),d=a(993),p=a(994),h=a(996),k=a(570),E=a(997),b=a(915),f={tooltips:{enabled:!1,custom:a(962).CustomTooltips},maintainAspectRatio:!1},g=function(e){function AmountPerLabel(){return Object(n.a)(this,AmountPerLabel),Object(r.a)(this,Object(s.a)(AmountPerLabel).apply(this,arguments))}return Object(o.a)(AmountPerLabel,e),Object(l.a)(AmountPerLabel,[{key:"getBarData",value:function getBarData(){return{labels:this.props.data.map(function(e){return e.label}),datasets:[{label:"Amount per label",backgroundColor:"rgba(255,99,132,0.2)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:this.props.data.map(function(e){return e.amount})}]}}},{key:"render",value:function render(){var e=this.getBarData();return e.labels.length>0?m.a.createElement("div",{className:"chart-wrapper"},m.a.createElement(b.a,{data:e,options:f,height:100})):m.a.createElement(m.a.Fragment,null,"No Data available yet.")}}]),AmountPerLabel}(i.Component),v=a(404),A=a(569),O=a(913),T=a(463),y=a(530),N=a.n(y),C=a(26),x=C.a.getAnnoTaskStatistic,S={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"85%",height:"85%",maxWidth:"75rem"},overlay:{backgroundColor:"rgba(0,0,0,0.75)"}},M=function(e){function MyAnnoTasks(e){var t;return Object(n.a)(this,MyAnnoTasks),(t=Object(r.a)(this,Object(s.a)(MyAnnoTasks).call(this,e))).state={modalIsOpen:!1},t.openModal=t.openModal.bind(Object(c.a)(Object(c.a)(t))),t.afterOpenModal=t.afterOpenModal.bind(Object(c.a)(Object(c.a)(t))),t.closeModal=t.closeModal.bind(Object(c.a)(Object(c.a)(t))),t}return Object(o.a)(MyAnnoTasks,e),Object(l.a)(MyAnnoTasks,[{key:"openModal",value:function openModal(){this.setState({modalIsOpen:!0})}},{key:"afterOpenModal",value:function afterOpenModal(){}},{key:"closeModal",value:function closeModal(){this.setState({modalIsOpen:!1})}},{key:"handleRowClick",value:function handleRowClick(e){var t=e.id,a=e.type;"inProgress"===e.status&&this.props.callBack(t,a)}},{key:"handleStatisticsClick",value:function handleStatisticsClick(e){this.props.getAnnoTaskStatistic(e.id),this.openModal()}},{key:"renderStatisticModal",value:function renderStatisticModal(){return m.a.createElement(N.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:S,ariaHideApp:!1,contentLabel:"Logfile"},m.a.createElement(h.a,{style:{height:"90%"}},m.a.createElement(k.a,null,m.a.createElement("i",{className:"icon-chart"})," Statistics"),m.a.createElement(E.a,{style:{height:"100%"}},this.renderStatistic()),m.a.createElement(v.a,{color:"success",onClick:this.closeModal},m.a.createElement("i",{className:"fa fa-times"})," Close")))}},{key:"renderStatistic",value:function renderStatistic(){return this.props.specificAnnoTaskStatistic?m.a.createElement("div",null,m.a.createElement(d.a,null,m.a.createElement(p.a,{xs:"3",md:"3",xl:"3"},m.a.createElement("div",{className:"callout callout-danger"},m.a.createElement("small",{className:"text-muted"},"Working on"),m.a.createElement("br",null),m.a.createElement("strong",null,this.props.specificAnnoTaskStatistic.name))),m.a.createElement(p.a,{xs:"3",md:"3",xl:"3"},m.a.createElement("div",{className:"callout callout-info"},m.a.createElement("small",{className:"text-muted"},"Pipeline"),m.a.createElement("br",null),m.a.createElement("strong",null,this.props.specificAnnoTaskStatistic.pipelineName))),m.a.createElement(p.a,{xs:"3",md:"3",xl:"3"},m.a.createElement("div",{className:"callout callout-warning"},m.a.createElement("small",{className:"text-muted"},"Annotations"),m.a.createElement("br",null),m.a.createElement("strong",{className:"h4"},this.props.specificAnnoTaskStatistic.finished,"/",this.props.specificAnnoTaskStatistic.size))),m.a.createElement(p.a,{xs:"3",md:"3",xl:"3"},m.a.createElement("div",{className:"callout callout-success"},m.a.createElement("small",{className:"text-muted"},"Seconds/Annotation"),m.a.createElement("br",null),m.a.createElement("strong",{className:"h4"},"\u2205 ",this.props.specificAnnoTaskStatistic.statistic.secondsPerAnno)))),m.a.createElement(g,{data:this.props.specificAnnoTaskStatistic.statistic.amountPerLabel})):m.a.createElement("div",null,"No Data available.")}},{key:"renderTableBody",value:function renderTableBody(){var e=this;return m.a.createElement("tbody",null,this.props.annoTasks.map(function(t){var a=Math.floor(t.finished/t.size*100);if(t.lastActivity){var n=new Date;n.setDate(n.getDate()-14);var l=new Date(t.lastActivity);if("finished"===t.status&&l<n)return}return m.a.createElement("tr",{key:t.id,style:"inProgress"===t.status?{cursor:"pointer"}:{backgroundColor:"#CCCCCC"}},m.a.createElement("td",{className:"text-center",onClick:function onClick(){return e.handleRowClick(t)},style:{cursor:"pointer"}},m.a.createElement("div",null,t.name),m.a.createElement("div",{className:"small text-muted"},"ID: ",t.id)),m.a.createElement("td",{onClick:function onClick(){return e.handleRowClick(t)},style:{cursor:"pointer"}},m.a.createElement("div",null,t.pipelineName),m.a.createElement("div",{className:"small text-muted"},"Created by: ",t.pipelineCreator)),m.a.createElement("td",{className:"text-center",onClick:function onClick(){return e.handleRowClick(t)},style:{cursor:"pointer"}},m.a.createElement("div",null,t.group)),m.a.createElement("td",{onClick:function onClick(){return e.handleRowClick(t)},style:{cursor:"pointer"}},m.a.createElement("div",{className:"clearfix"},m.a.createElement("div",{className:"float-left"},m.a.createElement("strong",null,a,"%")),m.a.createElement("div",{className:"float-right"},m.a.createElement("small",{className:"text-muted"},"Started at: ",t.createdAt))),m.a.createElement(A.a,{className:"progress-xs",color:Object(T.a)(a),value:a}),m.a.createElement("div",{className:"small text-muted"},t.finished,"/",t.size)),m.a.createElement("td",{className:"text-center",onClick:function onClick(){return e.handleRowClick(t)},style:{cursor:"pointer"}},m.a.createElement("strong",null,t.type)),m.a.createElement("td",{onClick:function onClick(){return e.handleRowClick(t)},style:{cursor:"pointer"}},m.a.createElement("strong",null,t.lastActivity),m.a.createElement("div",{className:"small text-muted"},"by ",t.lastAnnotator)),m.a.createElement("td",null,m.a.createElement(v.a,{onClick:function onClick(){return e.handleStatisticsClick(t)},color:a>0?"info":"",disabled:!(a>0)},m.a.createElement("span",{className:"icon-chart"},"\xa0"),"Statistic")))}))}},{key:"render",value:function render(){return m.a.createElement(m.a.Fragment,null,this.renderStatisticModal(),m.a.createElement(O.a,{hover:!0,responsive:!0,className:"table-outline mb-0 d-none d-sm-table"},m.a.createElement("thead",{className:"thead-light"},m.a.createElement("tr",null,m.a.createElement("th",{className:"text-center"},"Name"),m.a.createElement("th",{className:"text-center"},"Pipeline"),m.a.createElement("th",{className:"text-center"},"Group/User"),m.a.createElement("th",null,"Progress"),m.a.createElement("th",{className:"text-center"},"Annotation Type"),m.a.createElement("th",{className:"text-center"},"Activity"),m.a.createElement("th",{className:"text-center"},"Statistics"))),this.renderTableBody()))}}]),MyAnnoTasks}(i.Component);var j=Object(u.b)(function mapStateToProps(e){return{specificAnnoTaskStatistic:e.annoTask.annoTaskStatistic}},{getAnnoTaskStatistic:x})(M),w=a(37),D=Object(w.a)(),W=function(e){function WorkingOn(){return Object(n.a)(this,WorkingOn),Object(r.a)(this,Object(s.a)(WorkingOn).apply(this,arguments))}return Object(o.a)(WorkingOn,e),Object(l.a)(WorkingOn,[{key:"handleContinue",value:function handleContinue(e){D.push("/".concat(e.toLowerCase()))}},{key:"render",value:function render(){var e=this,t=Math.floor(this.props.annoTask.finished/this.props.annoTask.size*100);return m.a.createElement("div",null,m.a.createElement(d.a,null,m.a.createElement(p.a,{xs:"3",md:"3",xl:"3"},m.a.createElement("div",{className:"callout callout-danger"},m.a.createElement("small",{className:"text-muted"},"Working on"),m.a.createElement("br",null),m.a.createElement("strong",null,this.props.annoTask.name))),m.a.createElement(p.a,{xs:"3",md:"3",xl:"3"},m.a.createElement("div",{className:"callout callout-info"},m.a.createElement("small",{className:"text-muted"},"Pipeline"),m.a.createElement("br",null),m.a.createElement("strong",null,this.props.annoTask.pipelineName))),m.a.createElement(p.a,{xs:"3",md:"3",xl:"3"},m.a.createElement("div",{className:"callout callout-warning"},m.a.createElement("small",{className:"text-muted"},"Annotations"),m.a.createElement("br",null),m.a.createElement("strong",{className:"h4"},this.props.annoTask.finished,"/",this.props.annoTask.size))),m.a.createElement(p.a,{xs:"3",md:"3",xl:"3"},m.a.createElement("div",{className:"callout callout-success"},m.a.createElement("small",{className:"text-muted"},"Seconds/Annotation"),m.a.createElement("br",null),m.a.createElement("strong",{className:"h4"},"\u2205 ",this.props.annoTask.statistic.secondsPerAnno)))),m.a.createElement("div",{className:"clearfix"},m.a.createElement("div",{className:"float-left"},m.a.createElement("strong",null,t,"%")),m.a.createElement("div",{className:"float-right"},m.a.createElement("small",{className:"text-muted"},"Started at: ",this.props.annoTask.createdAt))),m.a.createElement(A.a,{className:"progress-xs",color:Object(T.a)(t),value:t}),m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement(v.a,{onClick:function onClick(){return e.handleContinue(e.props.annoTask.type)},className:"btn btn-info"},"Continue"))}}]),WorkingOn}(i.Component),P=C.a.getAnnoTasks,B=C.a.getWorkingOnAnnoTask,L=C.a.chooseAnnoTask,R=function(e){function AnnotatorDashboard(e){var t;return Object(n.a)(this,AnnotatorDashboard),(t=Object(r.a)(this,Object(s.a)(AnnotatorDashboard).call(this,e))).redirectMia=t.redirectMia.bind(Object(c.a)(Object(c.a)(t))),t.redirectSia=t.redirectSia.bind(Object(c.a)(Object(c.a)(t))),t}return Object(o.a)(AnnotatorDashboard,e),Object(l.a)(AnnotatorDashboard,[{key:"componentDidMount",value:function componentDidMount(){var e=this;this.props.getAnnoTasks(),this.props.getWorkingOnAnnoTask(),this.timer=setInterval(function(){return e.props.getAnnoTasks()},1e3)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.timer),this.timer=null}},{key:"chooseAnnoTask",value:function chooseAnnoTask(e,t){"MIA"===t?this.props.chooseAnnoTask(e,this.redirectMia):"SIA"===t&&this.props.chooseAnnoTask(e,this.redirectSia)}},{key:"redirectMia",value:function redirectMia(){this.props.history.push("/mia")}},{key:"redirectSia",value:function redirectSia(){this.props.history.push("/sia")}},{key:"renderWorkingOn",value:function renderWorkingOn(){return null!==this.props.workingOnAnnoTask?m.a.createElement(d.a,null,m.a.createElement(p.a,null,m.a.createElement(h.a,null,m.a.createElement(k.a,null,"Working on"),m.a.createElement(E.a,null,m.a.createElement(d.a,null,m.a.createElement(p.a,{xs:"6",md:"6",xl:"6"},m.a.createElement(W,{annoTask:this.props.workingOnAnnoTask})),m.a.createElement(p.a,{xs:"6",md:"6",xl:"6"},m.a.createElement(g,{data:this.props.workingOnAnnoTask.statistic.amountPerLabel}))))))):m.a.createElement(m.a.Fragment,null)}},{key:"render",value:function render(){var e=this;return m.a.createElement("div",{className:"animated fadeIn"},this.renderWorkingOn(),m.a.createElement(d.a,null,m.a.createElement(p.a,null,m.a.createElement(h.a,null,m.a.createElement(k.a,null,"My Annotation Tasks"),m.a.createElement(E.a,null,m.a.createElement("br",null),m.a.createElement(j,{annoTasks:this.props.annoTasks,callBack:function callBack(t,a){return e.chooseAnnoTask(t,a)}}))))))}}]),AnnotatorDashboard}(i.Component);t.default=Object(u.b)(function AnnotatorDashboard_mapStateToProps(e){return{workingOnAnnoTask:e.annoTask.workingOnAnnoTask,annoTasks:e.annoTask.annoTasks}},{getAnnoTasks:P,getWorkingOnAnnoTask:B,chooseAnnoTask:L})(R)},463:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=function getColor(e){return e<25?"danger":e<50?"warning":e<75?"info":"success"}}}]);
//# sourceMappingURL=16.ae6df6c1.chunk.js.map